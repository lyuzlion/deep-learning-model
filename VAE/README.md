# VAE-变分自动编码器
在 VAE 中，假设对于每个训练样本 \(x_i\)，必然对应一个潜在向量 \(z_i\)，而 \(z_i\) 是随机变量 \(Z_i\) 的一个样本，并且认为 \(Z_i\) 服从一个专属的正态分布即 \(Z_i \sim N(\mu_i, \sigma_i^2)\)，当我们每次从这个正态分布中采样潜在向量 \(z\)，经过解码器得到的最终图像应该大部分都是和 \(\mu_i\) 经过解码器得到的最终图像相似的（或者说，收敛到 \(D(\mu_i)\)），这时候我们可以让 \(D(z_i)\) 和 \(x_i\) 进行比较来优化各网络的参数。用数学的语言描述就是：

记输入数据为 \(x_1, x_2, \ldots x_n\)，我们认为，每一个样本 \(x_i\) 都是从一个专属概率分布 \(X_i\) 中采样得到的，我们记这个专属概率分布在潜在空间中的分布函数为 \(p(Z|X_i)\) 或者写成 \(p(Z_i)\)。这里

\[p(Z|X_i) = N(\mu_i, \sigma_i^2)\]

这样，我们每次从 \(p(Z|X_i)\) 中采样的 \(\widetilde{z_i}\) 经过解码器输出 \(D(\widetilde{z_i})\) 就可以保证依概率收敛到 \(D(\mu_i)\)。

![alt text](image.png)